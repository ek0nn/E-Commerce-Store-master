'use strict';mix_d("CustomerReviewsSummarizationCards__cr-ratings-histogram:cr-ratings-histogram__GJ3lrOmB","require exports tslib @c/remote-operations @c/scoped-dom @p/A".split(" "),function(v,k,l,w,x,y){function r(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function z(a){if(a&&a.__esModule)return a;var b=Object.create(null);a&&Object.keys(a).forEach(function(c){if("default"!==c){var d=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(b,c,d.get?d:{enumerable:!0,get:function(){return a[c]}})}});
b["default"]=a;return b}var A=r(w),B=r(x),C=r(y),e=function(a){return"true"==(null===a||void 0===a?void 0:a.toLowerCase())},D={starRating:"_cr-ratings-histogram_style_star-rating__s2nPF",ratingsHistogramMobile:"_cr-ratings-histogram_style_ratings-histogram-mobile__3JRFf",ratingsHistogramDesktop:"_cr-ratings-histogram_style_ratings-histogram-desktop__2txK-",ratingsHistogramCardData:"_cr-ratings-histogram_style_ratings-histogram-card-data__dudeB"},t=function(a,b){var c=a.dataset.arpLinkRefTag||"",d=
a.dataset.celWidgetName||"",m=e(a.dataset.excludeHistogram),n=e(a.dataset.isMobile),p=e(a.dataset.isCnMarketplace),q=a.dataset.refTag||"",g=a.dataset.reviewsRatingsHelpPageUrl||"";var f=(f=a.dataset.starRatingSize)?"small"==f.toLowerCase()?"Small":"mini"==f.toLowerCase()?"Mini":"medium"==f.toLowerCase()?"Medium":"Unspecified":"Unspecified";var h=(h=a.dataset.starType)?"brand"==h.toLowerCase()?"Brand":"Review":"Review";return{arpLinkRefTag:c,asin:b,celWidgetName:d,excludeHistogram:m,isMobile:n,isCNMarketplace:p,
refTag:q,reviewsRatingsHelpPageUrl:g,starRatingSize:f,starType:h,updateReviewsRatingsExplanation:e(a.dataset.updateReviewsRatingsExplanation),shouldOpenHelpPageInNewTab:e(a.dataset.shouldOpenHelpPageInNewTab),usePrimaveraChanges:e(a.dataset.usePrimaveraChanges)}},u=function(a,b){C["default"].on("a:pageUpdate",function(){return l.__awaiter(void 0,void 0,void 0,function(){var c,d,m,n,p,q;return l.__generator(this,function(g){switch(g.label){case 0:return[4,new Promise(function(f,h){v(["@p/customer-reviews-twister-update"],
function(E){f(z(E))},h)})];case 1:c=g.sent();d=c.default.getDisplayedASIN();m=b.dataset.asin||"";if(!d||d===m)return[3,3];n=t(b,d);p=A["default"].setup();return[4,p.getValueHTML(n)];case 2:q=g.sent(),a.innerHTML=q.outerHTML,g.label=3;case 3:return[2]}})})})};k._operationNames=["getValueHTML"];k.attachTwisterUpdateEventListener=u;k.card=function(){return l.__awaiter(void 0,void 0,void 0,function(){var a,b,c;return l.__generator(this,function(d){a=B["default"].cardRoot.getElementsByClassName(D.ratingsHistogram);
b=null===a||void 0===a?void 0:a[0];(c=null===b||void 0===b?void 0:b.firstChild)&&!e(c.dataset.isMobile)&&u(b,c);return[2]})})};k.getParamList=t});
